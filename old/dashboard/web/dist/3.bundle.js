(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"./app/components/dialogs/EditEntryTagDialog.js":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,o,r){var n=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&n)for(var d in n)void 0===t[d]&&(t[d]=n[d]);else t||(t=n||{});if(1===i)t.children=r;else if(i>1){for(var l=Array(i),s=0;s<i;s++)l[s]=arguments[s+3];t.children=l}return{$$typeof:a,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}),n=o("./node_modules/react/index.js"),i=D(n),d=o("./node_modules/react-redux/es/index.js"),l=o("./node_modules/redux/es/index.js"),s=D(o("./node_modules/@material-ui/core/esm/Button/index.js")),u=D(o("./node_modules/@material-ui/core/esm/TextField/index.js")),c=D(o("./node_modules/@material-ui/core/esm/DialogActions/index.js")),g=D(o("./node_modules/@material-ui/core/esm/DialogContent/index.js")),f=D(o("./node_modules/@material-ui/core/esm/DialogTitle/index.js")),m=o("./node_modules/@material-ui/core/esm/styles/index.js"),p=D(o("./node_modules/@material-ui/core/esm/FormControl/index.js")),T=D(o("./node_modules/@material-ui/core/esm/FormHelperText/index.js")),y=o("./app/components/dialogs/GenericDialog.js"),j=D(y),v=D(o("./app/services/i18n.js")),x=o("./app/utils/misc.js");o("./app/reducers/taglibrary.js");var E=o("./app/pro/index.js"),h=o("./app/reducers/app.js"),_=o("./app/reducers/tagging-actions.js"),C=D(_),P=o("./app/utils/dates.js");function D(e){return e&&e.__esModule?e:{default:e}}const b=E.Pro&&E.Pro.UI?E.Pro.UI.GeoTagEditor:i.default.Fragment,S=E.Pro&&E.Pro.UI?E.Pro.UI.DateTagEditor:i.default.Fragment;t.default=(0,m.withStyles)(()=>({root:{width:550,height:"100%",marginBottom:30}}))((0,d.connect)(function(e){return{selectedTag:(0,h.getSelectedTag)(e),currentEntryPath:(0,h.getSelectedTag)(e)?(0,h.getSelectedTag)(e).path:void 0}},function(e){return(0,l.bindActionCreators)({editTagForEntry:C.default.editTagForEntry},e)})(e=>{const[t,o]=(0,n.useState)(!0),[a,i]=(0,n.useState)(!1),[d,l]=(0,n.useState)(e.selectedTag&&e.selectedTag.title);function m(){t||(e.editTagForEntry(e.currentEntryPath,e.selectedTag,d),i(!1),o(!0),e.onClose())}(0,n.useEffect)(()=>{!function(){const e=RegExp(/^[^\#\/\\ \[\]]{1,}$/);d&&e.test(d)?(i(!1),o(!1)):(i(!0),o(!0))}()});var E=r(S,{datePeriodTag:d,onChange:l},d);return r(j.default,{open:e.open,onClose:e.onClose,onEnterKey:e=>(0,y.onEnterKeyHandler)(e,m),renderTitle:function(){return r(f.default,{},void 0,v.default.t("core:tagProperties"))},renderContent:function(){const t=b&&(0,x.isPlusCode)(d);let o=!1;if(d.indexOf("-")>-1){const e=d.split("-");if(2===e.length)for(let t=0;t<e.length;t+=1){if(!(0,P.isDateTimeTag)(e[t])){o=!1;break}o=!0}}else o=(0,P.isDateTimeTag)(d);return o=S&&o,r(g.default,{"data-tid":"editEntryTagDialog",className:e.classes.root},void 0,r(p.default,{fullWidth:!0,error:a},void 0,r(u.default,{fullWidth:!0,error:a,margin:"dense",name:"title",autoFocus:!0,label:v.default.t("core:editTag"),onChange:e=>{const t=e.target;l(t.value)},value:d,"data-tid":"editTagEntryDialog_input"}),a&&r(T.default,{},void 0,v.default.t("core:tagTitleHelper"))),t&&r(b,{geoTag:d,onChange:l,zoom:d===_.defaultTagLocation?2:void 0},d),o&&E)},renderActions:function(){return r(c.default,{},void 0,r(s.default,{"data-tid":"closeEditTagEntryDialog",onClick:e.onClose,color:"primary"},void 0,v.default.t("core:cancel")),r(s.default,{disabled:t,onClick:m,"data-tid":"confirmEditTagEntryDialog",color:"primary"},void 0,v.default.t("core:ok")))}})})),e.exports=t.default}}]);
//# sourceMappingURL=3.bundle.js.map